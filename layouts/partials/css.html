<!-- highlight.js -->
{{ if .Site.Params.highlight | default false }}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/{{ .Site.Params.highlightStyle | default "default" }}.min.css">
{{ end }}

<!-- font awesome -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

<!-- main -->
{{ $scratch := newScratch }}

{{ $vars :=  resources.Get "sass/variables.scss" | resources.ExecuteAsTemplate "vars.scss" . }}
{{ $scratch.Add "bundle" (slice $vars) }}
{{ $scratch.Add "bundle" (slice (resources.Get "sass/main.scss")) }}

{{ range .Site.Params.sass }}
    {{ $scratch.Add "bundle" (slice (resources.Get . )) }}
{{ end }}

{{ $bundle := $scratch.Get "bundle" | resources.Concat "css/bundle.scss" }}
{{ $styles := $bundle | toCSS | postCSS | minify | fingerprint }}

<link rel="stylesheet" href="{{ $styles.Permalink }}" integrity="{{ $styles.Data.Integrity }}">
